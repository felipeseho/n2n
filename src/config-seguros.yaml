file:
  inputPath: "C:/Users/jose.fagundes.EXA-ARKNT356196/Projects/repositories/github/n2n/data/amostra-seguros.csv"
  batchLines: 1
  startLine: 1
  maxLines: 1 # Opcional: limita o número de linhas a processar (útil para testes)
  logDirectory: "logs" # Diretório onde os logs serão salvos
  csvDelimiter: ","
  checkpointDirectory: "checkpoints" # Diretório onde os checkpoints serão salvos
  columns:
    - column: "partner_name"
      type: "string"
    - column: "name"
      type: "string"
    - column: "email"
      type: "string"
      regex: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
    - column: "cpf"
      type: "string"
    - column: "cnpj"
      type: "string"
    - column: "msisdn"
      type: "string"
    - column: "newMsisdn"
      type: "string"
    - column: "subscriptionId"
      type: "string"
    - column: "newSubscriptionId"
      type: "string"
    - column: "subpartnerId"
      type: "string"
    - column: "token"
      type: "string"
    - column: "expiryDate"
      type: "string"
    - column: "nextBillDate"
      type: "string"
    - column: "chargingResult"
      type: "string"
    - column: "cents"
      type: "number"
    - column: "campaign"
      type: "string"
    - column: "productId"
      type: "string"
    - column: "serviceId"
      type: "string"
    - column: "la"
      type: "string"
    - column: "text"
      type: "string"
    - column: "args"
      type: "string"
    - column: "raw"
      type: "string"
    - column: "insurance_cellphone_currentPrice"
      type: "number"
    - column: "insurance_cellphone_state"
      type: "string"
    - column: "insurance_cellphone_imei"
      type: "string"
    - column: "insurance_cellphone_ownerDocumentNumber"
      type: "string"
    - column: "insurance_cellphone_ownerName"
      type: "string"
    - column: "insurance_cellphone_number"
      type: "string"
    - column: "insurance_quoteId"
      type: "string"
    - column: "insurance_partnerId"
      type: "string"
    - column: "insurance_planId"
      type: "string"
    - column: "insurance_customerDocumentNumber"
      type: "string"
    - column: "insurance_externalPartnerId"
      type: "string"
    - column: "insurance_offerId"
      type: "string"
    - column: "insurance_orderId"
      type: "string"
    - column: "insurance_certificateNumber"
      type: "string"

# Nome da coluna CSV que contém o nome do endpoint a ser usado (opcional)
# Se configurada, cada linha pode especificar qual endpoint usar
# endpointColumnName: "Endpoint"

# Endpoint padrão a ser usado quando não especificado via --endpoint-name ou coluna CSV (opcional)
# Se não configurado e houver apenas 1 endpoint, ele será usado automaticamente
defaultEndpoint: "subscription_create"

# Lista de endpoints nomeados (obrigatório - deve ter pelo menos um)
# Cada endpoint tem sua própria URL, autenticação e mapeamento
endpoints:
  - name: "subscription_create"
    endpointUrl: "https://api-hub-homol.whitelabel.com.br/hub-connect-v2/v1/hub-connect-api-v2/events/ingest"
    # endpointUrl: "https://test-seho.requestcatcher.com/"
    # headers:
    #   Authorization: "Bearer seu-token-aqui"
    #   X-Custom-Header: "valor-customizado"
    method: "POST"
    requestTimeout: 30
    retryAttempts: 3
    retryDelaySeconds: 5
    maxRequestsPerSecond: 20
    mapping:
      - attribute: "event"
        fixedValue: "subscription_create"
      - attribute: "eventDate"
        fixedValue: "2024-01-01T00:00:00Z"
      - attribute: "partner"
        csvColumn: "partner_name"
      - attribute: "path"
        fixedValue: "/api/v1/events/ingest"
      - attribute: "payload.name"
        csvColumn: "name"
      - attribute: "payload.email"
        csvColumn: "email"
        transform: "lowercase"
      - attribute: "payload.cpf"
        csvColumn: "cpf"
      - attribute: "payload.cnpj"
        csvColumn: "cnpj"
      - attribute: "payload.msisdn"
        csvColumn: "msisdn"
      - attribute: "payload.newMsisdn"
        csvColumn: "newMsisdn"
      - attribute: "payload.subscriptionId"
        csvColumn: "subscriptionId"
      - attribute: "payload.newSubscriptionId"
        csvColumn: "newSubscriptionId"
      - attribute: "payload.subpartnerId"
        csvColumn: "subpartnerId"
      - attribute: "payload.token"
        csvColumn: "token"
      - attribute: "payload.expiryDate"
        csvColumn: "expiryDate"
      - attribute: "payload.nextBillDate"
        csvColumn: "nextBillDate"
      - attribute: "payload.chargingResult"
        csvColumn: "chargingResult"
      - attribute: "payload.cents"
        csvColumn: "cents"
      - attribute: "payload.campaign"
        csvColumn: "campaign"
      - attribute: "payload.productId"
        csvColumn: "productId"
      - attribute: "payload.serviceId"
        csvColumn: "serviceId"
      - attribute: "payload.la"
        csvColumn: "la"
      - attribute: "payload.text"
        csvColumn: "text"
      - attribute: "payload.args"
        csvColumn: "args"
      - attribute: "payload.raw"
        csvColumn: "raw"
        transform: "empty-to-null"
      - attribute: "payload.insurance.cellphone.currentPrice"
        csvColumn: "insurance_cellphone_currentPrice"
      - attribute: "payload.insurance.cellphone.state"
        csvColumn: "insurance_cellphone_state"
      - attribute: "payload.insurance.cellphone.imei"
        csvColumn: "insurance_cellphone_imei"
      - attribute: "payload.insurance.cellphone.ownerDocumentNumber"
        csvColumn: "insurance_cellphone_ownerDocumentNumber"
      - attribute: "payload.insurance.cellphone.ownerName"
        csvColumn: "insurance_cellphone_ownerName"
      - attribute: "payload.insurance.cellphone.number"
        csvColumn: "insurance_cellphone_number"
      - attribute: "payload.insurance.quoteId"
        csvColumn: "insurance_quoteId"
        transform: "empty-to-null"
      - attribute: "payload.insurance.partnerId"
        csvColumn: "insurance_partnerId"
      - attribute: "payload.insurance.planId"
        csvColumn: "insurance_planId"
      - attribute: "payload.insurance.customerDocumentNumber"
        csvColumn: "insurance_customerDocumentNumber"
      - attribute: "payload.insurance.externalPartnerId"
        csvColumn: "insurance_externalPartnerId"
      - attribute: "payload.insurance.offerId"
        csvColumn: "insurance_offerId"
      - attribute: "payload.insurance.orderId"
        csvColumn: "insurance_orderId"
      - attribute: "payload.insurance.certificateNumber"
        csvColumn: "insurance_certificateNumber"
